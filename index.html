<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>My Cafe Menu</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @keyframes slideUp {
      from { transform: translateY(100%); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    @keyframes slideRight {
      from { transform: translateX(100%); }
      to { transform: translateX(0); }
    }
    .animate-slide-up { animation: slideUp 0.3s ease-out; }
    .animate-slide-right { animation: slideRight 0.3s ease-out; }
    
    /* ‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏î‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ */
    #cart-drawer > div:first-child {
      pointer-events: auto;
    }
    #cart-drawer > div:last-child {
      pointer-events: auto;
      position: relative;
      z-index: 10;
    }
  </style>
</head>
<body class="bg-orange-50">

<!-- Header -->
<header class="sticky top-0 z-40 bg-white shadow-sm px-4 py-3 flex justify-between items-center">
  <div class="flex items-center gap-2">
    <div class="bg-orange-500 p-2 rounded-full text-white">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 8h1a4 4 0 1 1 0 8h-1"/><path d="M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z"/><line x1="6" x2="6" y1="2" y2="4"/><line x1="10" x2="10" y1="2" y2="4"/><line x1="14" x2="14" y1="2" y2="4"/></svg>
    </div>
    <h1 class="text-xl font-bold text-orange-800">My Cafe Menu</h1>
  </div>
  
  <button onclick="toggleCart()" class="relative p-2 hover:bg-gray-100 rounded-full transition-colors">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="8" cy="21" r="1"/><circle cx="19" cy="21" r="1"/><path d="M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"/></svg>
    <span id="cart-badge" class="hidden absolute top-0 right-0 bg-red-500 text-white text-xs font-bold w-5 h-5 flex items-center justify-center rounded-full">0</span>
  </button>
</header>

<!-- Main Content -->
<main class="container mx-auto max-w-2xl px-4 py-6 pb-24">
  <div class="mb-6 text-center">
    <h2 class="text-2xl font-bold text-gray-800 mb-2">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏°‡∏ô‡∏π‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏°</h2>
    <p class="text-gray-500">‡∏™‡∏î‡∏ä‡∏∑‡πà‡∏ô ‡∏≠‡∏£‡πà‡∏≠‡∏¢ ‡∏ñ‡∏π‡∏Å‡πÉ‡∏à ‡∏™‡∏±‡πà‡∏á‡πÄ‡∏•‡∏¢!</p>
  </div>

  <!-- Menu Grid -->
  <div id="menu-grid" class="grid grid-cols-2 gap-4"></div>
</main>

<!-- Product Modal -->
<div id="modal" class="hidden fixed inset-0 z-50 flex items-end sm:items-center justify-center">
  <div class="absolute inset-0 bg-black/40" onclick="closeModal()"></div>
  <div class="bg-white w-full max-w-md rounded-t-2xl sm:rounded-2xl p-6 shadow-xl relative animate-slide-up">
    <div class="flex justify-between items-start mb-4">
      <div>
        <h3 id="modal-name" class="text-xl font-bold text-gray-900 pr-4"></h3>
        <p id="modal-price" class="text-orange-600 font-bold text-lg"></p>
      </div>
      <button onclick="closeModal()" class="p-1 bg-gray-100 rounded-full hover:bg-gray-200">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>
      </button>
    </div>

    <!-- Sweetness Selection -->
    <div id="sweetness-section" class="mb-6">
      <h4 class="font-semibold text-gray-700 mb-3 text-sm">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ß‡∏≤‡∏ô</h4>
      <div class="space-y-2" id="sweetness-options"></div>
    </div>

    <!-- Quantity -->
    <div class="flex items-center justify-between mb-6 bg-gray-50 p-3 rounded-lg">
      <span class="font-semibold text-gray-700">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</span>
      <div class="flex items-center gap-4">
        <button onclick="changeQuantity(-1)" class="w-8 h-8 flex items-center justify-center rounded-full bg-white border shadow-sm text-gray-600 active:scale-95 transition-transform">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"/></svg>
        </button>
        <span id="quantity" class="font-bold text-lg w-6 text-center">1</span>
        <button onclick="changeQuantity(1)" class="w-8 h-8 flex items-center justify-center rounded-full bg-orange-500 text-white shadow-sm active:scale-95 transition-transform">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"/><path d="M12 5v14"/></svg>
        </button>
      </div>
    </div>

    <!-- Add Button -->
    <button onclick="addToCart()" class="w-full bg-orange-600 text-white py-3 rounded-xl font-bold text-lg shadow-lg hover:bg-orange-700 active:scale-95 transition-all">
      ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤ ‚Äî <span id="modal-total">0</span>.-
    </button>
  </div>
</div>

<!-- Cart Drawer -->
<div id="cart-drawer" class="hidden fixed inset-0 z-50 flex justify-end">
  <div class="absolute inset-0 bg-black/20" onclick="toggleCart()"></div>
  <div class="w-full max-w-md bg-white h-full shadow-2xl flex flex-col animate-slide-right">
    <div class="p-4 border-b flex justify-between items-center bg-orange-50">
      <h2 class="text-lg font-bold flex items-center gap-2">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="8" cy="21" r="1"/><circle cx="19" cy="21" r="1"/><path d="M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"/></svg>
        ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
      </h2>
      <button onclick="toggleCart()" class="p-2 hover:bg-orange-100 rounded-full">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>
      </button>
    </div>

    <div id="cart-items" class="flex-1 overflow-y-auto p-4"></div>

    <!-- Footer -->
    <div id="cart-footer" class="hidden p-4 border-t bg-gray-50">
      <div class="flex justify-between items-center mb-4">
        <span class="text-gray-600">‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</span>
        <span id="total-price" class="text-2xl font-bold text-orange-600">0.-</span>
      </div>
      
      <button onclick="sendToLine()" class="w-full bg-green-500 text-white py-3 rounded-xl font-bold shadow-lg hover:bg-green-600 transition-colors flex items-center justify-center gap-2">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m22 2-7 20-4-9-9-4Z"/><path d="M22 2 11 13"/></svg>
        ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå (‡∏™‡πà‡∏á‡∏ó‡∏≤‡∏á‡πÑ‡∏•‡∏ô‡πå)
      </button>
      <p class="text-xs text-center text-gray-400 mt-2">
        *‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏≠‡∏õ LINE ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡πà‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏ó‡∏≤‡∏á‡∏£‡πâ‡∏≤‡∏ô
      </p>
    </div>
  </div>
</div>

<!-- Floating Cart Button -->
<div id="floating-cart" class="hidden fixed bottom-6 right-6 z-40">
  <button onclick="toggleCart()" class="bg-orange-600 text-white p-4 rounded-full shadow-lg hover:bg-orange-700 transition-transform hover:scale-105 flex items-center gap-2">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="8" cy="21" r="1"/><circle cx="19" cy="21" r="1"/><path d="M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12"/></svg>
    <span id="floating-badge" class="font-bold">0</span>
  </button>
</div>

<script>
// === ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ LINE ID ‡∏Ç‡∏≠‡∏á‡∏£‡πâ‡∏≤‡∏ô‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ ===
const LINE_OA_ID = '@570uqhbl'; // ‚¨ÖÔ∏è ‡πÅ‡∏Å‡πâ‡πÄ‡∏õ‡πá‡∏ô LINE OA ID ‡∏à‡∏£‡∏¥‡∏á‡∏Ç‡∏≠‡∏á‡∏£‡πâ‡∏≤‡∏ô (‡πÄ‡∏ä‡πà‡∏ô @abc1234)

// === ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏°‡∏ô‡∏π ===
const MENU_ITEMS = [
  { id: 1, name: '‡πÄ‡∏ô‡∏™‡∏Å‡∏≤‡πÅ‡∏ü (Nescafe)', price: 29, category: 'Coffee' },
  { id: 2, name: '‡∏Å‡∏≤‡πÅ‡∏ü‡πÇ‡∏ö‡∏£‡∏≤‡∏ì (Thai Coffee Milk)', price: 29, category: 'Coffee' },
  { id: 3, name: '‡πÇ‡∏≠‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á (Thai Coffee Iced)', price: 29, category: 'Coffee' },
  { id: 4, name: '‡∏ä‡∏≤‡∏ô‡∏°‡πÑ‡∏ï‡πâ‡∏´‡∏ß‡∏±‡∏ô (Taiwan Milk Tea)', price: 29, category: 'Tea' },
  { id: 5, name: '‡∏ä‡∏≤‡πÑ‡∏ó‡∏¢ (Thai Tea)', price: 29, category: 'Tea' },
  { id: 6, name: '‡∏ä‡∏≤‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß (Green Tea)', price: 29, category: 'Tea' },
  { id: 7, name: '‡πÇ‡∏Å‡πÇ‡∏Å‡πâ (Cocoa)', price: 29, category: 'Milk' },
  { id: 8, name: '‡πÇ‡∏≠‡∏ß‡∏±‡∏•‡∏ï‡∏¥‡∏ô (Ovaltine)', price: 29, category: 'Milk' },
  { id: 9, name: '‡∏ô‡∏°‡∏ä‡∏°‡∏û‡∏π (Pink Milk)', price: 29, category: 'Milk' },
  { id: 10, name: '‡∏ô‡∏°‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß (Green Milk)', price: 29, category: 'Milk' },
  { id: 11, name: '‡∏ô‡∏°‡πÄ‡∏ú‡∏∑‡∏≠‡∏Å (Taro Milk)', price: 29, category: 'Milk' },
  { id: 12, name: '‡∏ô‡∏°‡∏™‡∏î (Fresh Milk)', price: 29, category: 'Milk' },
  { id: 13, name: '‡∏ä‡∏≤‡∏°‡∏∞‡∏ô‡∏≤‡∏ß (Lemon Thai Tea)', price: 29, category: 'Tea' },
  { id: 14, name: '‡∏ä‡∏≤‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏°‡∏∞‡∏ô‡∏≤‡∏ß (Lemon Green Tea)', price: 29, category: 'Tea' },
  { id: 15, name: '‡πÅ‡∏î‡∏á‡∏°‡∏∞‡∏ô‡∏≤‡∏ß (Lemon Red Syrup)', price: 29, category: 'Refreshment' },
  { id: 16, name: '‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏°‡∏∞‡∏ô‡∏≤‡∏ß (Lemon Green Syrup)', price: 29, category: 'Refreshment' },
  { id: 17, name: '‡πÇ‡∏Ñ‡πâ‡∏Å (Coca-Cola)', price: 25, category: 'Soft Drink' },
  { id: 18, name: '‡πÅ‡∏ü‡∏ô‡∏ï‡πâ‡∏≤ ‡∏™‡πâ‡∏° (Fanta Orange)', price: 25, category: 'Soft Drink' },
  { id: 19, name: '‡πÅ‡∏ü‡∏ô‡∏ï‡πâ‡∏≤ ‡πÅ‡∏î‡∏á (Fanta Red)', price: 25, category: 'Soft Drink' },
  { id: 20, name: '‡∏™‡πÑ‡∏õ‡∏£‡πå‡∏ó (Sprite)', price: 25, category: 'Soft Drink' },
  { id: 21, name: '‡∏ô‡πâ‡∏≥‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß (Green Soda)', price: 25, category: 'Soft Drink' },
];

const SWEETNESS_LEVELS = [
  { label: '‡∏´‡∏ß‡∏≤‡∏ô‡∏°‡∏≤‡∏Å 100%', value: '100%' },
  { label: '‡∏´‡∏ß‡∏≤‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥ 70%', value: '70%' },
  { label: '‡∏´‡∏ß‡∏≤‡∏ô‡∏ô‡πâ‡∏≠‡∏¢ 50%', value: '50%' },
  { label: '‡πÑ‡∏°‡πà‡∏´‡∏ß‡∏≤‡∏ô 0%', value: '0%' },
];

let cart = [];
let selectedItem = null;
let currentQuantity = 1;
let currentSweetness = '70%';

// === ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏°‡∏ô‡∏π ===
function renderMenu() {
  const grid = document.getElementById('menu-grid');
  grid.innerHTML = MENU_ITEMS.map(item => `
    <div onclick="openModal(${item.id})" class="bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow overflow-hidden cursor-pointer border border-gray-100 flex flex-col">
      <div class="aspect-square bg-gray-200 w-full flex items-center justify-center text-gray-400 relative">
        <div class="text-center">
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mx-auto mb-1 opacity-50"><path d="M17 8h1a4 4 0 1 1 0 8h-1"/><path d="M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z"/><line x1="6" x2="6" y1="2" y2="4"/><line x1="10" x2="10" y1="2" y2="4"/><line x1="14" x2="14" y1="2" y2="4"/></svg>
          <span class="text-xs">‡∏£‡∏π‡∏õ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</span>
        </div>
        ${item.category === 'Soft Drink' ? '<span class="absolute top-2 right-2 bg-blue-500 text-white text-[10px] px-2 py-0.5 rounded-full font-bold">‡πÄ‡∏¢‡πá‡∏ô‡∏ã‡πà‡∏≤</span>' : ''}
      </div>
      <div class="p-3 flex flex-col flex-grow">
        <h3 class="font-semibold text-gray-800 line-clamp-2 mb-1 leading-snug text-sm">${item.name}</h3>
        <div class="mt-auto flex justify-between items-center pt-2">
          <span class="text-orange-600 font-bold text-lg">${item.price}.-</span>
          <button class="bg-orange-100 text-orange-600 p-1.5 rounded-lg hover:bg-orange-200 transition-colors">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14"/><path d="M12 5v14"/></svg>
          </button>
        </div>
      </div>
    </div>
  `).join('');
}

// === ‡πÄ‡∏õ‡∏¥‡∏î Modal ===
function openModal(itemId) {
  selectedItem = MENU_ITEMS.find(item => item.id === itemId);
  currentQuantity = 1;
  currentSweetness = '70%';
  
  document.getElementById('modal-name').textContent = selectedItem.name;
  document.getElementById('modal-price').textContent = `${selectedItem.price} ‡∏ö‡∏≤‡∏ó`;
  document.getElementById('quantity').textContent = currentQuantity;
  document.getElementById('modal-total').textContent = selectedItem.price;
  
  // ‡πÅ‡∏™‡∏î‡∏á/‡∏ã‡πà‡∏≠‡∏ô sweetness
  const sweetnessSection = document.getElementById('sweetness-section');
  if (selectedItem.category === 'Soft Drink') {
    sweetnessSection.style.display = 'none';
  } else {
    sweetnessSection.style.display = 'block';
    renderSweetnessOptions();
  }
  
  document.getElementById('modal').classList.remove('hidden');
}

function closeModal() {
  document.getElementById('modal').classList.add('hidden');
}

// === ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ß‡∏≤‡∏ô ===
function renderSweetnessOptions() {
  const container = document.getElementById('sweetness-options');
  container.innerHTML = SWEETNESS_LEVELS.map(level => `
    <label class="flex items-center justify-between p-3 rounded-lg border cursor-pointer transition-all ${currentSweetness === level.value ? 'border-orange-500 bg-orange-50 text-orange-700' : 'border-gray-200 hover:bg-gray-50'}">
      <span class="text-sm font-medium">${level.label}</span>
      <input type="radio" name="sweetness" value="${level.value}" ${currentSweetness === level.value ? 'checked' : ''} onchange="currentSweetness = this.value; renderSweetnessOptions()" class="w-4 h-4 text-orange-600">
    </label>
  `).join('');
}

// === ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≥‡∏ô‡∏ß‡∏ô ===
function changeQuantity(change) {
  currentQuantity = Math.max(1, currentQuantity + change);
  document.getElementById('quantity').textContent = currentQuantity;
  document.getElementById('modal-total').textContent = selectedItem.price * currentQuantity;
}

// === ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤ ===
function addToCart() {
  const newItem = {
    ...selectedItem,
    cartId: Date.now(),
    sweetness: selectedItem.category !== 'Soft Drink' ? currentSweetness : null,
    quantity: currentQuantity,
  };
  
  cart.push(newItem);
  updateCart();
  closeModal();
}

// === ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤ ===
function updateCart() {
  const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
  const totalPrice = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
  
  // Badge
  const badge = document.getElementById('cart-badge');
  const floatingBadge = document.getElementById('floating-badge');
  if (totalItems > 0) {
    badge.classList.remove('hidden');
    badge.textContent = totalItems;
    floatingBadge.textContent = totalItems;
    document.getElementById('floating-cart').classList.remove('hidden');
  } else {
    badge.classList.add('hidden');
    document.getElementById('floating-cart').classList.add('hidden');
  }
  
  // Render cart items
  const container = document.getElementById('cart-items');
  if (cart.length === 0) {
    container.innerHTML = `
      <div class="flex flex-col items-center justify-center h-full text-gray-400">
        <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mb-2 opacity-50"><path d="M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z"/><line x1="6" x2="18" y1="17" y2="17"/></svg>
        <p>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</p>
      </div>
    `;
    document.getElementById('cart-footer').classList.add('hidden');
  } else {
    container.innerHTML = cart.map(item => `
      <div class="flex gap-3 border-b border-gray-100 pb-3 mb-3">
        <div class="w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0">
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-gray-400"><path d="M17 8h1a4 4 0 1 1 0 8h-1"/><path d="M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z"/><line x1="6" x2="6" y1="2" y2="4"/><line x1="10" x2="10" y1="2" y2="4"/><line x1="14" x2="14" y1="2" y2="4"/></svg>
        </div>
        <div class="flex-1">
          <div class="flex justify-between items-start">
            <h4 class="font-bold text-gray-800 text-sm">${item.name}</h4>
            <button onclick="removeFromCart(${item.cartId})" class="text-gray-400 hover:text-red-500">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/></svg>
            </button>
          </div>
          ${item.sweetness ? `<p class="text-xs text-gray-500 mt-1">‡∏´‡∏ß‡∏≤‡∏ô: ${item.sweetness}</p>` : ''}
          <div class="flex justify-between items-center mt-2">
            <span class="text-xs bg-gray-100 px-2 py-1 rounded text-gray-600">x${item.quantity}</span>
            <span class="font-bold text-orange-600">${item.price * item.quantity}.-</span>
          </div>
        </div>
      </div>
    `).join('');
    
    document.getElementById('total-price').textContent = `${totalPrice}.-`;
    document.getElementById('cart-footer').classList.remove('hidden');
  }
}

// === ‡∏•‡∏ö‡∏à‡∏≤‡∏Å‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤ ===
function removeFromCart(cartId) {
  cart = cart.filter(item => item.cartId !== cartId);
  updateCart();
}

// === ‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤ ===
function toggleCart() {
  const drawer = document.getElementById('cart-drawer');
  drawer.classList.toggle('hidden');
}

// === ‡∏™‡πà‡∏á‡πÑ‡∏õ LINE ===
function sendToLine() {
  if (cart.length === 0) return;
  
  let message = "üõí ‡∏Ç‡∏≠‡∏™‡∏±‡πà‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏î‡∏∑‡πà‡∏°‡∏Ñ‡∏£‡∏±‡∏ö/‡∏Ñ‡πà‡∏∞ \n\n";
  
  cart.forEach((item, index) => {
    message += `${index + 1}. ${item.name}`;
    if (item.sweetness) {
      message += ` (‡∏´‡∏ß‡∏≤‡∏ô ${item.sweetness})`;
    }
    message += `\n   x ${item.quantity} = ${item.price * item.quantity} ‡∏ö‡∏≤‡∏ó\n`;
  });
  
  const totalPrice = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
  message += `\nüí∞ ‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: ${totalPrice} ‡∏ö‡∏≤‡∏ó`;
  message += `\n\n----------------------------`;
  message += `\n(‡∏£‡∏ö‡∏Å‡∏ß‡∏ô‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£ ‡∏´‡∏£‡∏∑‡∏≠‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡∏à‡∏±‡∏î‡∏™‡πà‡∏á‡∏ï‡πà‡∏≠‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡∏Ñ‡∏£‡∏±‡∏ö)`;
  
  const encodedMessage = encodeURIComponent(message);
  const lineUrl = `https://line.me/R/oaMessage/${LINE_OA_ID}/?${encodedMessage}`;
  
  window.location.href = lineUrl;
}

// ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
renderMenu();
</script>

</body>
</html>
